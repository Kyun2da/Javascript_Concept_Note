# 클로저

클로저는 MDN 에서 다음과 같이 정의한다.

클로저는 함수와 그 함수가 선언된 렉시컬 환경과의 조합이다.

앞서 렉시컬 스코프를 다른 말로 정적 스코프라고 했던 적이 있다. 정적 스코프는 함수가 어디서 선언되었느냐에 따라 스코프가 결정되는 스코프이다.

이처럼 이러한 특징 때문에 클로저가 등장하게 되었다.

## 클로저의 정의

클로저는 좀더 정확하게 말하자면 다음과 같다.

외부 함수보다 중첩 함수가 더 오래 유지되는 경우 중첩 함수는 이미 생명 주기가 종료한 외부 함수의 변수를 참조할 수 있는데 이러한 중첩 함수를 클로저라고 부른다.

다음의 예를 통해 클로저를 확인해 보자

```js
const x = 1;

function outer() {
	const x = 10;
    const inner = function () { console.log(x) };
    return inner;
}

const innerFunc = outer();
innerFunc();
```

여기서 outer함수를 호출하면 중첩함수 inner를 반환하는 것을 알 수 있다. 이렇게 되면 innerFunc은 inner함수를 갖게되고 innerFunc()을 실행하게되면 x를 참조하게 된다. 여기서 이미 outer의 생명주기는 종료되어 x= 10을 참조하지 못할 것 같지만 inner가 outer함수에 대한 참조를 갖고 있기 때문에 x= 10을 outer함수에서 가져오게 되어 10이 출력되는 것을 확인할 수 있다. 이것이 바로 클로저이다.

즉, outer함수의 실행 컨텍스트는 실행 컨텍스트 스택에서 제거되지만 outer 함수의 렉시컬 환경까지 소멸하는 것은 아니다.



## 클로저의 활용

이러한 클로저는 상태를 안전하게 변경하고 유지하기 위해 사용된다. 다시 말해, 상태가 의도치 않게 변경되지 않도록 상태를 안전하게 은닉하고 특정 함수에게만 상태 변경을 허용하기 위해 사용한다.

